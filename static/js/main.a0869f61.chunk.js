(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),c=a(3),o=(a(15),"intro"),s="shop",u="event",i="rest",d="reward",m="battle",h="miniboss",y="boss",g="game over",E={SET_SCENE:"set_scene",SET_MYDATA:"set-mydata",SET_MYBALANCE:"set-mybalance",SET_ENEMY:"set-enemy",SET_ATK:"set-atk",SET_DECK:"set-deck",SET_ALERT:"set_alert",DRAW_CARD:"draw-card",PLAY_CARD:"play-card",SELECT_REST:"select-rest",GENERATE_REWARDS:"generate-rewards",SELECT_REWARD:"select-reward",PURCHASE_ITEM:"purchase-item",DISCARD_CARD:"discard-card",BEGIN_BATTLE:"begin-battle",TAKE_DAMAGE:"take-damage",END_TURN:"end-turn",ADD_CARD:"add-card",GAME_OVER:"game-over"},p="regular",b=function(){return{type:E.SET_SCENE,payload:{enemySeed:Math.random(),atkSeed:Math.random(),beginBattleSeed:Math.random(),startingHandCount:3}}},f=function(e){var t=e.dispatch;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Slay all the things!"),l.a.createElement("div",null,"This is a card game, let's see how far you can go "),l.a.createElement("h3",null,"instructions"),l.a.createElement("div",null,"Your cards can ONLY BE USED ONCE. Use them strategically to defeat bosses"),l.a.createElement("div",null,"Most importantly, have fun"," ",l.a.createElement("span",{role:"img","aria-label":"emoji smile"},"\ud83d\udc9e\ud83d\ude07\ud83d\udc9e")),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){console.log("loadNextLevel"),t(b())}},"Next Level"))},v=function(e){var t=e.dispatch,a=[{name:"Sample Event",description:"You happen upon a glade",choices:["Fight the civilians","Keep going going on path"],choiceResults:[{type:"money",num:30},{type:"exit",num:0}]}],n=function(e){switch(e.type){case"health":console.log("health choice");break;case"money":console.log("money choice"),t((a=e.num,{type:E.EVENT_CHOICE,payload:{num:a,battlePayload:{enemySeed:Math.random(),atkSeed:Math.random(),beginBattleSeed:Math.random(),startingHandCount:3}}}));break;case"cards":console.log("cards choice");break;case"enemy":console.log("enemy choice");break;case"story":console.log("story choice");break;case"exit":console.log("exit choice");break;default:console.log("no proper executeChoice choice")}var a};return l.a.createElement("div",null,l.a.createElement("h5",null,"Event Name: ",a[0].name," "),l.a.createElement("div",null,a[0].description),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){return n(a[0].choiceResults[0])}},a[0].choices[0]),l.a.createElement("button",{onClick:function(){return n(a[0].choiceResults[1])}},a[0].choices[1]),l.a.createElement("br",null),l.a.createElement("br",null))},S=[{type:"shop_poison",name:"shop_drain syphon life",num:4,cost:2,id:20},{type:"electric",name:"shop_electric symphonies",num:8,cost:1,id:21,price:40},{type:"normal",name:"shop_backstab",num:4,cost:1,id:22,price:30},{type:"Ice",name:"shop_Freeze Blast",num:6,cost:1,id:23,price:60},{type:"mind",name:"shop_hypnotic distress",num:5,cost:1,id:24,price:20},{type:"pioson",name:"shop_Black Ooze",num:9,cost:1,id:25,price:35},{type:"electric",name:"shop_overload",num:11,cost:1,id:26,price:55}],k=function(e){var t=e.cardValue,a=e.useCard,n=t.type,r=t.name,c=t.num,o=t.cost,s=t.effect;return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{style:{color:"blue",display:"inline",border:"2px solid silver",borderRadius:"10px",padding:"7px",margin:"3px"},onClick:function(){return a(t)}},"".concat(r," ").concat("\ud83e\uddea".repeat(o)),l.a.createElement("h5",{style:{color:"gray"}},"(".concat(n,")")),l.a.createElement("div",{style:{color:"gray"}},"Deals ".concat(c," damage")),l.a.createElement("div",{style:{color:"brown"}}," ",s?"".concat(s,"s"):""," "),t.price?l.a.createElement("div",null,"price: ",t.price):l.a.createElement(l.a.Fragment,null)))},A=function(e){e.gameData;var t=e.dispatch,a=function(e){console.log("adding this card:",e),t(function(e){return console.log("adding this card:",e),{type:E.PURCHASE_ITEM,payload:{card:e,battlePayload:{enemySeed:Math.random(),atkSeed:Math.random(),beginBattleSeed:Math.random(),startingHandCount:3}}}}(e))};return l.a.createElement("div",null,l.a.createElement("h3",null,"Shop Component"),l.a.createElement("br",null),l.a.createElement("h3",null,"Its dangerous to go alone, give me money"),l.a.createElement("div",null,"Items for sale (Just attacks for now)"),l.a.createElement("div",null,S.map(function(e){return l.a.createElement(k,{key:e.id,cardValue:e,useCard:a})})))},C=function(e){var t=e.dispatch;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Rest Component"),l.a.createElement("h3",null,"Stay a while, and listen"),l.a.createElement("div",null,"As you come upon a campfire, you feel calm."),l.a.createElement("div",null,"A wise old scholar greets you."),l.a.createElement("div",null,"You realize the old man will keep watch and alarm you if there is any danger"),l.a.createElement("button",{onClick:function(){t({type:E.SELECT_REST})}},"Heal"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){console.log("loadNextLevel"),t(b())}},"Next Level"))},O=function(e){var t=e.gameData,a=e.dispatch,n=t.availableRewards,r=function(e){console.log("adding this card:",e),a(function(e){return{type:E.SELECT_REWARD,payload:{card:e,battlePayload:{enemySeed:Math.random(),atkSeed:Math.random(),beginBattleSeed:Math.random(),startingHandCount:3}}}}(e))};return console.log("gameData from Rewards",t),l.a.createElement("div",null,l.a.createElement("h1",null,"Reward Component"),l.a.createElement("br",null),l.a.createElement("h3",null,"Thank you for vanquishing those foes."),l.a.createElement("h4",null,"Please take something, its on us"),l.a.createElement("div",null,n.map(function(e){return l.a.createElement(k,{key:e.id,cardValue:e,useCard:r})})))},R=function(e){var t=e.enemyData,a=t.name,r=t.health,o=t.bio,s=t.status,u=t.nextAttack,i=Object(n.useState)(!0),d=Object(c.a)(i,2),m=d[0],h=d[1];return Object(n.useEffect)(function(){setTimeout(function(){return h(!m)},2e3)},[m]),l.a.createElement("div",{style:{border:"2px dotted lightgray",borderRadius:"10px"}},l.a.createElement("div",{style:{border:"2px dotted lightgray",borderRadius:"30px"}},"---",a," ",l.a.createElement("span",{role:"img","aria-label":"emoji heart"},"\ud83e\udec0"),r||"None","---"),l.a.createElement("div",null,o),l.a.createElement("br",null),l.a.createElement("div",null,m?"\ud83d\udd25\\_(X_X)-/\ud83d\udd25":"\ud83d\udd25\\-(X_X)_/\ud83d\udd25"),l.a.createElement("br",null),l.a.createElement("div",{style:{color:"red"}}," ",s?"He is ".concat(s,"ed"):"unaffected"),l.a.createElement("br",null),l.a.createElement("div",{style:{border:"2px dotted lightgray",borderRadius:"30px"}},"Next attack: ",l.a.createElement("br",null),"".concat(u.name,"  ").concat(u.damage),l.a.createElement("div",null,"status inflict? ",u.status)))},T=function(e){var t=e.gameData,a=e.dispatch,n=function(e){a(function(e){return{type:E.PLAY_CARD,payload:{card:e,battlePayload:{enemySeed:Math.random(),atkSeed:Math.random(),beginBattleSeed:Math.random(),startingHandCount:3}}}}(e))};return l.a.createElement(l.a.Fragment,null,"Battle Component",l.a.createElement("div",null,l.a.createElement(R,{enemyData:t.battle.enemy}),l.a.createElement("br",null),l.a.createElement("h5",null,"Our hand:"),l.a.createElement("div",{style:{color:"Red"}},t.alert),l.a.createElement("div",{style:{color:"Red"}},t.battle.hand.length>0?t.battle.hand.map(function(e){return l.a.createElement(k,{key:e.id,cardValue:e,useCard:n})}):'No Cards in hand. Click "End Turn" to let enemies attack and you\'ll draw a card.')),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("h4",{style:{color:"gray"}},t.battle.discarded.length," discarded Cards"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){a((console.log("End Turn"),{type:E.END_TURN,payload:{seed:Math.random()}}))}},"End Turn"),l.a.createElement("h5",{style:{color:"gray"}},"Our deck:"),l.a.createElement("div",{style:{pointerEvents:"none",opacity:"0.4"}},"        ",t.deck.map(function(e){return l.a.createElement(k,{key:e.id,cardValue:e,playCard:n})}))))},_=function(e){var t=e.gameData,a=e.dispatch,n=e.map[t.curScene.lvl];switch(console.log("levelToSet is:",n),n){case o:return l.a.createElement(f,{dispatch:a});case s:return console.log("shop Screen Case"),l.a.createElement(A,{dispatch:a});case u:return console.log("event Screen Case"),l.a.createElement(v,{dispatch:a});case i:return console.log("rest Screen Case"),l.a.createElement(C,{dispatch:a});case d:return console.log("reward Screen Case"),l.a.createElement(O,{gameData:t,dispatch:a,randomizedVal:Math.random()});case m:return console.log("(battle Screen)"),l.a.createElement(T,{gameData:t,dispatch:a});case h:return console.log("miniboss Screen Case"),l.a.createElement(T,{gameData:t,dispatch:a});case y:return console.log("boss Screen Case"),l.a.createElement(T,{gameData:t,dispatch:a});case g:return console.log("game over Screen Case"),l.a.createElement("div",null,"`game over`");default:return console.log("no scene (Screen Case) selected"),l.a.createElement(l.a.Fragment,null,"404 Yo")}},j=[g,o,m,d,d,s,m,d,d,u,m,d,d,i,h,d,d,m,d,d,m,d,d,i,y,d,d,u,m,d,s,m,d,u,m,d,i,h,d,m,d,m,d,i,y,d,u,m,d,s,m,d,u,m,d,i,h,d,m,d,m,d,i,y],D=[{type:"Fire",name:"Flamethrower+",num:8,cost:1,id:1,effect:null},{type:"Water",name:"Gush+",num:6,cost:1,id:2,effect:null},{type:"Poison",name:"Sting+",num:5,cost:1,id:3,effect:null},{type:"Fire",name:"Flamethrower",num:4,cost:1,id:4,effect:null},{type:"Physical",name:"Throw Fist",num:3,cost:2,id:5,effect:"stun"},{type:"Physical",name:"Throw Fist",num:3,cost:2,id:6,effect:"stun"},{type:"Fire",name:"Flamethrower",num:4,cost:1,id:7,effect:null},{type:"Water",name:"Gush",num:2,cost:1,id:8,effect:null},{type:"Poison",name:"Sting",num:2,cost:1,id:9,effect:null},{type:"Fire",name:"Flamethrower",num:5,cost:1,id:10,effect:null},{type:"Physical",name:"Throw Fist",num:5,cost:2,id:11,effect:"stun"},{type:"Physical",name:"Throw Fist",num:5,cost:2,id:12,effect:"stun"}],w={deck:D,gold:50,hero:{health:100,energy:5,status:"Feeling Fine"},battle:{enemy:{name:"sample guy",bio:"just a standaard enemi",health:"30",energy:6,status:"none",nextAttack:"none",attacks:[{name:"sample atk hitting you",type:"hit",damage:20,status:"stun"},{name:"sample atk hitting again",type:"hit",damage:40,status:null}]},runes:[],hand:[],discarded:[],beginning:!1},curScene:{scene:"intro",lvl:1,act:1},availableRewards:[],alert:""},M=a(2),N=a(1),x=[{type:"poison",name:"drain syphon life",num:4,cost:2,id:20},{type:"electric",name:"electric symphonies",num:8,cost:1,id:21},{type:"normal",name:"backstab",num:4,cost:1,id:22},{type:"Ice",name:"Freeze Blast",num:6,cost:1,id:23},{type:"mind",name:"hypnotic distress",num:5,cost:1,id:24},{type:"pioson",name:"Black Ooze",num:9,cost:1,id:25},{type:"electric",name:"overload",num:11,cost:1,id:26}],P={1:{regular:[{name:"EvilMan",health:10,passive:"none",bio:"A bad dude",status:null,attacks:[{name:"flails fist at you",type:"hit",damage:20,status:"dizzy"},{name:"flails fist HARDER",type:"hit",damage:40,status:null}]},{name:"Lackey",health:30,passive:"heal",bio:"A bad dude's smaller dude",status:null,attacks:[{name:"flails fist weakly",type:"hit",damage:11,status:"dizzy"},{name:"teeny punch",type:"hit",damage:5,status:null}]},{name:"Grunt",health:20,passive:"boost",bio:"A crazy guy, don't make him angry",status:null,attacks:[{name:"Big ol' slash",type:"hit",damage:20,status:"weak"},{name:"comically bad swipe",type:"hit",damage:3,status:null}]}],mini:[{name:"EvilMINIBOSSMan",health:60,passive:null,bio:"A bad dude",status:null,attacks:[{name:"flails fist at you",type:"hit",damage:20,status:"stun"},{name:"flails fist HARDER",type:"hit",damage:40,status:null},{name:"too tired to attack",type:"hit",damage:0,status:null},{name:"distracted movement",type:"hit",damage:0,status:null}]}],boss:[{name:"EvilACT1BOSSMan",health:120,passive:null,bio:"A bad dude",status:null,attacks:[{name:"flails fist at you",type:"hit",damage:20,status:"stun"},{name:"flails fist REALLY HARD",type:"hit",damage:40,status:null}]}]},2:{regular:[],mini:[],boss:[]},3:{regular:[],mini:[],boss:[]}},H=function(e,t){return e.sort(function(){return t-.5})},B=function(e,t){return P[e][t]},F=function(e,t){return t[Math.floor(e*t.length)]},L=function(e,t){console.log("ennmyATK enemyAttacks",t,"seed",e);var a=t[Math.floor(e*t.length)];return console.log("decideEnemyATK: next attack",a),a};function I(e,t){var a=t.payload;switch(t.type){case E.SET_SCENE:return re(e,a);case E.SET_MYDATA:return Y(e,a);case E.SET_MYBALANCE:return z(e,a);case E.SET_ALERT:return G(e,a);case E.SET_DECK:return Object(N.a)({},e,{deck:a});case E.DRAW_CARD:return Q(e,a);case E.PLAY_CARD:return V(e,a);case E.DISCARD_CARD:return K(e,a);case E.SET_ENEMY:return X(e,a);case E.SET_ATK:return J(e,a);case E.EVENT_CHOICE:return te(e,a);case E.GENERATE_REWARDS:return ne(e,a);case E.SELECT_REWARD:return le(e,a);case E.PURCHASE_ITEM:return ae(e,a);case E.SELECT_REST:return ee(e);case E.BEGIN_BATTLE:return q(e,a);case E.END_TURN:return U(e,a);case E.ADD_CARD:return $(e,a);case E.GAME_OVER:return Z(e);default:return console.log("no action type matched, returning state"),e}}var Y=function(e){return e},z=function(e,t){var a=e.gold+t;return Object(N.a)({},e,{gold:a})},G=function(e,t){return console.error("payload",t),Object(N.a)({},e,{alert:t})},V=function(e,t){var a=t.card,n=t.battlePayload;console.log("payload&card",a,n);var l=Object(N.a)({},e),r=l.hero.energy,c=l.battle.enemy.health;if(r<a.cost)return G(l,"Not enough energy to play that card :(");if(c-a.num<=0){console.log("you defeated the enemy!");var o=[];o.push.apply(o,Object(M.a)(l.deck)),o.push.apply(o,Object(M.a)(l.battle.hand)),console.log("nextDeck",o),l=ne(l,n),l=Y(Object(N.a)({},l,{gold:l.gold+25,deck:o})),console.log("nextState",l);var s=n;console.log("payload",n),l=re(l,s)}var u=l.battle.hand.indexOf(a),i=Object(M.a)(l.battle.hand);(i.splice(u,1),null!=a.effect)&&(l=W(l,{card:a,battlePayload:n}));var d=l.hero.energy-a.cost,m=l.battle.enemy.health-a.num;return l=Object(N.a)({},l,{hero:Object(N.a)({},l.hero,{energy:d}),battle:Object(N.a)({},l.battle,{enemy:Object(N.a)({},l.battle.enemy,{health:m}),hand:i})}),console.log("nextState: ",l),K(l,{cardToRemove:a})},W=function(e,t){var a=t.card,n=t.battlePayload;console.log("Apply Status effect",a,n);var l=Object(N.a)({},e),r=a.effect;switch(console.log("Apply Status of ".concat(r),a,n),r){case"stun":return Object(N.a)({},l,{battle:Object(N.a)({},l.battle,{enemy:Object(N.a)({},l.battle.enemy,{status:"stun"})})});default:return console.log("no statusEffect matched, returning state"),l}},K=function(e,t){return Object(N.a)({},e,{battle:Object(N.a)({},e.battle,{discarded:[].concat(Object(M.a)(e.battle.discarded),[t.cardToRemove])})})},U=function(e,t){var a=Object(N.a)({},e),n=a,l=n.hero,r=n.battle,c=a.battle.enemy.status,o=l.health;switch(c){case"stun":console.log("stunned, so don't attack, set status to _null_"),a=Object(N.a)({},a,{battle:Object(N.a)({},a.battle,{enemy:Object(N.a)({},a.battle.enemy,{status:null})})});break;case null:console.log(" enemyStatus of null matched, returning a hero-damaged state"),o-=r.enemy.nextAttack.damage;break;default:console.log("no enemyStatus matched, returning state")}if(o>0){var s=Object(N.a)({},a,{hero:Object(N.a)({},a.hero,{health:o,energy:5})}),u=Q(s);return a=J(u,t),a=G(a,"")}return Z(e)},X=function(e,t){var a=t.seed,n=t.enemyArr;return Object(N.a)({},e,{battle:Object(N.a)({},e.battle,{enemy:F(a,n)})})},J=function(e,t){var a=t.seed;return Object(N.a)({},e,{battle:Object(N.a)({},e.battle,{enemy:Object(N.a)({},e.battle.enemy,{nextAttack:L(a,e.battle.enemy.attacks)})})})},q=function(e,t){var a=t.startingHandCount,n=t.seed,l=[];e.deck.length<=0?(console.log("using starting deck"),l=H(D,n)):(console.log("using current deck",e.deck),l=H(e.deck,n));for(var r=Object(N.a)({},e,{battle:Object(N.a)({},e.battle,{beginning:!0,hand:[]}),deck:Object(M.a)(l),hero:Object(N.a)({},e.hero,{energy:5})}),c=0;c<a;c++)r=Q(r);return r},Q=function(e){return e.deck.length>0?Object(N.a)({},e,{battle:Object(N.a)({},e.battle,{hand:[].concat(Object(M.a)(e.battle.hand),[e.deck[0]])}),deck:e.deck.slice(1)}):Object(N.a)({},e,{alert:"No cards left to draw :( "})},Z=function(e){return Object(N.a)({},w,{curScene:{scene:g,lvl:0,act:0}})},$=function(e,t){var a=e.deck;a.push(t.card);var n=a;return console.log("adding card to deck, and full deck here",t,n),Object(N.a)({},e,{deck:n})},ee=function(e){return Object(N.a)({},e,{hero:Object(N.a)({},e.hero,{health:w.hero.health})})},te=function(e,t){var a=t.num,n=t.battlePayload,l=z(e,a);return re(l,n)},ae=function(e,t){var a=t.card,n=t.battlePayload,l=Object(N.a)({},e);if(l.gold>=a.price){var r=$(l,{card:a}),c=r.gold-a.price,o=Object(N.a)({},r,{gold:c});return re(o,n)}return console.log("not enough money to buy ".concat(a.name)),l},ne=function(e,t){console.log("generateRewardsHandler running:",e,"payload (currently none)",t);var a=H(x,Math.random());console.log("reward card arr",a);var n=a.slice(0,3);return console.log("reward card arr sliced for only 3",a),Object(N.a)({},e,{availableRewards:n})},le=function(e,t){var a=$(e,t),n=ne(a);return re(n,t.battlePayload)},re=function(e,t){var a=t.enemySeed,n=t.atkSeed,l=t.beginBattleSeed,r=t.startingHandCount,c={scene:j[e.curScene.lvl+1],lvl:e.curScene.lvl+1,act:e.curScene.act},o=e,s=[];switch(c.scene){case m:s=B(e.curScene.act,p),o=X(o,{seed:a,enemyArr:s}),o=J(o,{seed:n}),o=q(o,{seed:l,startingHandCount:r});break;case h:s=B(e.curScene.act,"mini"),o=X(o,{seed:a,enemyArr:s}),o=J(o,{seed:n}),o=q(o,{seed:l,startingHandCount:r});break;case y:s=B(e.curScene.act,"boss"),o=X(o,{seed:a,enemyArr:s}),o=J(o,{seed:n}),o=q(o,{seed:l,startingHandCount:r});break;default:console.log("setSceneHandler type isn't battle, type is: ".concat(c.scene),c)}return Object(N.a)({},o,{curScene:c})};function ce(){var e=Object(n.useReducer)(I,w),t=Object(c.a)(e,2),a=t[0],r=t[1],o=a.hero,s=o.health,u=o.energy,i=s/4;return l.a.createElement("div",{className:"App"},l.a.createElement("div",null,l.a.createElement("h3",{style:{textAlign:"center"}},"\u2764\ufe0f".repeat(i)),l.a.createElement("h3",null,"Hero: \ud83d\udc9e".concat(s,"HP \ud83e\uddea").concat(u," Energy \ud83d\udcb0").concat(a.gold," Gold  [ level TBD, Progression: \n        ").concat(a.curScene.lvl," -ACT").concat(a.curScene.act,"- ]"))),l.a.createElement(_,{gameData:a,dispatch:r,map:j}))}var oe=document.getElementById("root");Object(r.createRoot)(oe).render(l.a.createElement(ce,null))},6:function(e,t,a){e.exports=a(16)}},[[6,1,2]]]);
//# sourceMappingURL=main.a0869f61.chunk.js.map